<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h3><%= @chat_room.title %></h3>
        </div>
        <div class="card-body">
            <div id="chat-messages" class="mb-3" style="height: 100%; overflow-y: scroll;">
                <% @chat_messages.each do |message| %>
                    <%= render partial: 'chat_messages/chat_message', locals: { message: message } %>
                <% end %>
            </div>
            <form action="<%= chat_messages_path(@chat_room) %>" method="post" async="true">
                <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
                <div class="input-group">
                    <input type="text" name="chat_message[content]" class="form-control" placeholder="Type your message..." required>
                    <input type="hidden" name="chat_message[chat_room_id]" value="<%= @chat_room.id %>">
                    <button type="submit" class="btn btn-primary">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>